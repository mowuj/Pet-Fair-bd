{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %}
  <title>Login</title>
{% endblock title %}

{% block content %}
  <div class="container m-auto" style="height: 100vh;">
    <h1 class="text-center text-info my-5">Login</h1>
    
    <div class="row d-flex justify-content-center align-items-center mt-5">
      <div class="col-sm-8 mb-3 mb-sm-0">
        <div class="card p-5 shadow-lg rounded-5  login">
          <div class="card-body d-flex justify-content-around align-items-center">
            <div class="col-md-4">
              <img src="{% static 'img/user4.png' %}" class="img-fluid rounded w-75 h-100" alt="...">
            </div>
            <div class="col-md-6">
              <h5 class="card-title mt-0"> 
                <form action="" method="post" id="loginForm" class="w-100 m-auto" novalidate>
                  <!-- {{form | crispy}} -->
                  {% csrf_token %}
                  {% if form.non_field_errors %}
                    {% for er in form.non_field_errors %}
                      <p class="bg-danger text-white p-3">{{er}}</p>
                    {% endfor %}
                  {% endif %}

                  {% for fm in form %}
                    {{fm.label_tag}}
                    {{fm}}
                    {{fm.errors | striptags}}
                  {% endfor %}
                  <br>
                  
                  <input class="btn btn-primary my-2 text-center" type="submit" value="Login">
                  <br>
                  <small>You don't have an account <a href="{% url 'register' %}">Register</a></small>
                  <button class="btn btn-primary my-2 text-center" type="button" onclick="fillDemo('user')">Demo User</button>
                  <button class="btn btn-primary my-2 text-center" type="button" onclick="fillDemo('admin')">Demo Admin</button>
                </form>
              </h5>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  
  <script>
    function fillDemo(type) {
      const form = document.getElementById('loginForm');
      if (type === 'user') {
        form.username.value = 'mowuj';
        form.password.value = 'A@san1122';
      } else if (type === 'admin') {
        form.username.value = 'admin';
        form.password.value = '12345';
      }
    }
  </script>

{% endblock content %}
